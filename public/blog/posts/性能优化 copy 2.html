<!doctype html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title id="page-title">博客详情 | 荆学辉的个人主页</title><meta name="description" id="page-description" content=""><meta name="keywords" id="page-keywords" content=""><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/styles/github-dark.min.css"><link rel="stylesheet" href="/assets/css/css2.css"><link rel="stylesheet" href="/assets/css/main.css"><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script><script src="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/lib/languages/javascript.min.js"></script><script src="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/lib/languages/html.min.js"></script><script src="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/lib/languages/css.min.js"></script><script src="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/lib/languages/python.min.js"></script><script src="https://cdn.jsdelivr.net/npm/marked@12.0.1/lib/marked.umd.min.js"></script><script src="/vendor/tailwind.js"></script><script>tailwind.config={theme:{extend:{colors:{primary:"#165DFF",secondary:"#FF7D00",light:"#F5F7FA",dark:"#1D2939"},fontFamily:{inter:["Inter","system-ui","sans-serif"],serif:["Georgia","Cambria","serif"]}}}}</script><style type="text/tailwindcss">@layer utilities {
      /* 相关文章容器样式 */
      .related-blog-item {
        @apply flex gap-3 w-full items-start; /* 确保占满容器，垂直对齐顶部 */
        @apply p-2 rounded-lg hover:bg-white hover:shadow-sm transition-all; /* 增加hover背景和阴影 */
      }

      /* 相关文章图片样式（保持比例，避免拉伸） */
      .related-blog-img {
        @apply w-16 h-16 md:w-18 md:h-18 object-cover rounded-lg flex-shrink-0; /* 固定宽高比 */
        @apply transition-transform group-hover:scale-105; /* 增加hover缩放效果 */
      }

      /* 相关文章文字容器样式（控制换行和溢出） */
      .related-blog-text {
        @apply flex-1 min-w-0; /* flex-1 占满剩余空间，min-w-0 解决文字溢出问题 */
      }

      /* 相关文章标题样式 */
      .related-blog-title {
        @apply text-sm md:text-base font-medium text-gray-800 group-hover:text-primary transition-colors;
        @apply line-clamp-2; /* 强制2行溢出隐藏，避免高度混乱 */
      }

      /* 相关文章日期样式 */
      .related-blog-date {
        @apply text-gray-500 text-xs md:text-sm mt-1;
      }
      /* 相关文章容器：统一间距 */
      #related-blogs {
        @apply space-y-4;
      }

      /* 单个文章项：hover 阴影 */
      .related-blog-item {
        @apply bg-white border transition-shadow;
      }

      /* 封面图容器：固定宽高比 */
      .related-blog-img-wrap {
        @apply overflow-hidden;
      }

      /* 标题截断：确保1行显示 */
      .related-blog-text .line-clamp-1 {
        @apply overflow-hidden text-ellipsis whitespace-nowrap;
      }
      .content-auto {
        content-visibility: auto;
      }
      /* 博客内容样式：优化排版 */
      .blog-content {
        @apply font-serif text-gray-700 leading-relaxed;
      }
      /* 代码块容器样式：确保背景色、内边距、边框可见 */
      .blog-content pre {
        @apply my-4 p-4 bg-gray-900 text-gray-100 rounded-lg overflow-x-auto;
        @apply shadow-md; /* 新增阴影，增强视觉区分 */
      }

      /* 行内代码样式：与代码块区分开 */
      .blog-content code {
        @apply font-mono text-sm bg-gray-100 px-1 py-0.5 rounded;
        @apply text-gray-800; /* 确保行内代码文字颜色清晰 */
      }

      /* 代码块内的代码样式：继承容器样式，避免冲突 */
      .blog-content pre code {
        @apply bg-transparent px-0 py-0 rounded-none;
        @apply text-gray-100; /* 确保代码块内文字与背景对比明显 */
      }
      .blog-content h1 {
        @apply text-3xl font-bold mt-10 mb-6 text-dark border-b border-gray-200 pb-2;
      }
      .blog-content h2 {
        @apply text-2xl font-bold mt-8 mb-4 text-dark border-b border-gray-200 pb-2;
      }
      .blog-content h3 {
        @apply text-xl font-bold mt-6 mb-3 text-dark;
      }
      .blog-content p {
        @apply mb-4;
      }
      .blog-content img {
        @apply max-w-full h-auto my-6 rounded-lg shadow-sm mx-auto;
      }
      .blog-content a {
        @apply text-primary hover:underline;
      }
      .blog-content ul, .blog-content ol {
        @apply mb-4 pl-6;
      }
      .blog-content ul {
        @apply list-disc;
      }
      .blog-content ol {
        @apply list-decimal;
      }
      .blog-content blockquote {
        @apply border-l-4 border-primary pl-4 italic my-4 text-gray-600 bg-primary/5 p-3 rounded-r;
      }
      .blog-content pre {
        @apply my-4 p-4 bg-gray-900 text-gray-100 rounded-lg overflow-x-auto;
      }
      .blog-content code {
        @apply font-mono text-sm bg-gray-100 px-1 py-0.5 rounded;
      }
      .blog-content table {
        @apply w-full border-collapse my-6;
      }
      .blog-content th, .blog-content td {
        @apply border border-gray-300 px-4 py-2 text-sm;
      }
      .blog-content th {
        @apply bg-gray-50 font-semibold;
      }
      /* 加载中样式 */
      .loader {
        width: 48px;
        height: 48px;
        border: 5px solid #165DFF;
        border-bottom-color: transparent;
        border-radius: 50%;
        animation: rotation 1s linear infinite;
      }
      @keyframes rotation {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
      /* 图片加载失败样式 */
      .blog-cover-fallback {
        @apply bg-gray-100 flex items-center justify-center text-gray-400 h-64 md:h-96;
      }
    }</style></head><body class="font-inter bg-light text-dark antialiased"><header id="navbar-placeholder"></header><section class="py-20 bg-white"><div class="container mx-auto px-4 md:px-6"><div class="mb-8"><a href="/blog.html" class="inline-flex items-center text-gray-600 hover:text-primary transition-colors"><i class="fa fa-arrow-left mr-2"></i> <span>返回博客列表</span></a></div><div class="flex flex-col lg:flex-row gap-8 lg:gap-10"><div class="lg:w-2/3"><div id="loader-container" class="flex justify-center py-16"><div id="loader" class="loader"></div></div><div id="error-state" class="py-16 text-center hidden"><i class="fa fa-exclamation-triangle text-5xl text-yellow-500 mb-4"></i><p class="text-gray-600 mb-4">文章加载失败</p><div class="flex flex-col sm:flex-row justify-center gap-3"><button id="retry-btn" class="px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors">重试</button> <a href="/blog.html" class="px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors">返回列表</a></div></div><article id="blog-content-container" class="hidden"><div class="mb-6 md:mb-8"><span id="blog-category" class="inline-block px-3 py-1 bg-primary/10 text-primary text-xs font-medium rounded-full mb-3"></span><h1 id="blog-title" class="text-[clamp(1.5rem,3vw,2.2rem)] font-bold mb-4"></h1><div class="flex flex-wrap items-center gap-3 text-gray-500 text-sm"><div class="flex items-center"><img src="/assets/images/avatar.jpg" alt="作者头像" class="w-7 h-7 rounded-full mr-2"> <span>荆学辉</span></div><time id="blog-publish-date" datetime=""></time> <span id="blog-views"><i class="fa fa-eye mr-1"></i></span> <span id="blog-read-time"><i class="fa fa-clock-o mr-1"></i></span></div></div><div class="mb-6 md:mb-8"><img id="blog-cover" src="" alt="" class="w-full h-auto rounded-xl shadow-sm" onerror='this.classList.add("hidden"),this.nextElementSibling.classList.remove("hidden")'><div id="cover-fallback" class="blog-cover-fallback hidden"><i class="fa fa-image text-4xl"></i></div></div><div id="blog-content" class="blog-content mb-8 md:mb-10"></div><div class="flex flex-wrap gap-2 mb-8 md:mb-10 pt-4 border-t border-gray-200"><span class="text-gray-500 text-sm">标签：</span><div id="blog-tags"></div></div><div class="flex flex-wrap items-center gap-3 mb-8 md:mb-12 pt-6 border-t border-gray-200"><span class="text-gray-500">分享：</span> <a href="#" class="w-9 h-9 rounded-full bg-[#1DA1F2]/10 text-[#1DA1F2] flex items-center justify-center hover:bg-[#1DA1F2]/20 transition-colors" title="分享到Twitter"><i class="fa fa-twitter"></i> </a><a href="#" class="w-9 h-9 rounded-full bg-[#4267B2]/10 text-[#4267B2] flex items-center justify-center hover:bg-[#4267B2]/20 transition-colors" title="分享到Facebook"><i class="fa fa-facebook"></i> </a><a href="#" class="w-9 h-9 rounded-full bg-[#25D366]/10 text-[#25D366] flex items-center justify-center hover:bg-[#25D366]/20 transition-colors" title="分享到WhatsApp"><i class="fa fa-whatsapp"></i> </a><a href="#" class="w-9 h-9 rounded-full bg-[#333]/10 text-[#333] flex items-center justify-center hover:bg-[#333]/20 transition-colors" title="复制链接" id="copy-link-btn"><i class="fa fa-link"></i> </a><span id="copy-success" class="text-green-500 text-sm hidden">链接已复制！</span></div><div class="flex flex-col md:flex-row justify-between items-start md:items-center gap-6 pt-8 border-t border-gray-200"><div id="prev-blog" class="w-full md:w-[45%]"></div><div id="next-blog" class="w-full md:w-[45%] text-right"></div></div></article></div><div class="lg:w-1/3"><div class="bg-light rounded-xl p-5 mb-6"><div class="flex items-center gap-4 mb-4"><img src="/assets/images/avatar.jpg" alt="荆学辉" class="w-14 h-14 rounded-full object-cover"><div><h3 class="font-semibold text-lg">荆学辉</h3><p class="text-gray-500 text-sm">全栈开发工程师</p></div></div><p class="text-gray-600 text-sm mb-4">专注于前后端技术开发与架构设计，热衷于分享技术心得与实战经验。</p><div class="flex gap-3"><a href="#" class="text-gray-500 hover:text-primary transition-colors" title="GitHub"><i class="fa fa-github text-xl"></i></a> <a href="#" class="text-gray-500 hover:text-primary transition-colors" title="LinkedIn"><i class="fa fa-linkedin text-xl"></i></a> <a href="#" class="text-gray-500 hover:text-primary transition-colors" title="Twitter"><i class="fa fa-twitter text-xl"></i></a> <a href="#" class="text-gray-500 hover:text-primary transition-colors" title="CodePen"><i class="fa fa-codepen text-xl"></i></a></div></div><div class="bg-light rounded-xl p-5 mb-6"><h3 class="font-semibold text-lg mb-4 flex items-center"><i class="fa fa-files-o text-primary mr-2"></i>相关推荐🔥</h3><div id="related-blogs" class="space-y-3"></div></div><div class="bg-light rounded-xl p-5"><h3 class="font-semibold text-lg mb-4 flex items-center"><i class="fa fa-tags text-primary mr-2"></i>热门标签</h3><div id="popular-tags" class="flex flex-wrap gap-2"></div></div></div></div></div></section><footer id="footer-placeholder"></footer><button id="back-to-top" class="fixed bottom-8 right-8 w-12 h-12 rounded-full bg-primary text-white shadow-lg flex items-center justify-center opacity-0 invisible transition-all z-50"><i class="fa fa-arrow-up"></i></button><script src="https://cdn.jsdelivr.net/npm/marked@12.0.1/lib/marked.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/lib/highlight.min.js"></script><script src="/assets/js/utils.js"></script><script src="/assets/js/components/nav.js"></script><script src="/assets/js/load-components.js"></script><script src="/assets/js/components/scroll.js"></script><script>let state={allBlogs:[],currentBlog:null,metaLoaded:!1},loaderContainer=document.getElementById("loader-container"),errorState=document.getElementById("error-state"),blogContentContainer=document.getElementById("blog-content-container"),retryBtn=document.getElementById("retry-btn"),copyLinkBtn=document.getElementById("copy-link-btn"),copySuccess=document.getElementById("copy-success");function parseFrontMatter(e){var t=e.split("\n"),a={};let n="";let r=-1;if(0<t.length&&"---"===t[0].trim()){0;for(let e=1;e<t.length;e++){if("---"===t[e].trim()){r=e;break}var o=t[e].trim();if(o&&!o.startsWith("#")){var l=o.indexOf(":");if(0<l){var s=o.substring(0,l).trim();let e=o.substring(l+1).trim();e.startsWith("[")&&e.endsWith("]")?e=e.slice(1,-1).split(",").map(e=>e.trim()):e.startsWith('"')&&e.endsWith('"')?e=e.slice(1,-1):"true"===e?e=!0:"false"===e?e=!1:isNaN(e)||(e=Number(e)),a[s]=e}}}}return{data:a,content:n=(-1!==r?t.slice(r+1).join("\n"):e).trim()}}function getBlogIdentifier(){var e=new URLSearchParams(window.location.search),e=e.get("id")||e.get("slug");if(e)return e;try{var t=window.location.pathname.split("/"),a=t[t.length-1].replace(/\.html$/,"");if(a&&""!==a)return decodeURIComponent(a)}catch(e){console.error("从路径提取slug失败：",e)}return""}async function loadBlogMetadata(){try{var e=await fetch("/data/blog-meta.json");if(e.ok)return state.allBlogs=await e.json(),state.metaLoaded=!0;throw new Error(`元数据请求失败：${e.status}（请检查 /data/blog-meta.json 路径是否正确）`)}catch(e){return console.error("加载博客元数据失败：",e),state.metaLoaded=!1}}async function loadBlogContent(){let t=getBlogIdentifier();if(t)try{if(loaderContainer.classList.remove("hidden"),errorState.classList.add("hidden"),blogContentContainer.classList.add("hidden"),!state.metaLoaded&&!await loadBlogMetadata())throw new Error("无法加载博客元数据（/data/blog-meta.json 不存在或格式错误）");var e=state.allBlogs.find(e=>e.id?.toString()===t||e.slug===t);if(!e)throw new Error(`未找到该博客文章（在 blog-meta.json 中未匹配到 slug: ${t} 或 id: ${t}）`);var a="/_posts/"+((state.currentBlog=e).fileName||`${e.publishDate.split("T")[0]}-${e.slug}.md`),n=await fetch(a);if(!n.ok)throw new Error(`MD 文件请求失败：${n.status}（路径：${a} 不存在）`);var{data:r,content:o}=parseFrontMatter(await n.text());renderBlogContent({...e,...r},o),renderRelatedBlogs(),renderPopularTags(),renderPrevNextBlogs(),loaderContainer.classList.add("hidden"),blogContentContainer.classList.remove("hidden")}catch(e){console.error("加载博客内容失败：",e),showError(e.message||"加载失败，请稍后重试")}else showError("未指定博客文章（无法从URL提取slug或id）")}function renderBlogContent(e,t){var a=e.title+" | 荆学辉的个人主页",n=e.excerpt||t.slice(0,160),r=e.tags?e.tags.join(","):"技术博客,前端开发,后端开发",a=(document.getElementById("page-title").textContent=a,document.getElementById("page-description").setAttribute("content",n),document.getElementById("page-keywords").setAttribute("content",r),document.getElementById("blog-category").textContent=getCategoryName(e.category),document.getElementById("blog-title").textContent=e.title,document.getElementById("blog-publish-date").innerHTML='<i class="fa fa-calendar-o mr-1"></i>'+formatDate(e.publishDate||e.date),document.getElementById("blog-views").textContent+=" "+(e.views||1),document.getElementById("blog-read-time").textContent+=" "+calculateReadTime(t),e.coverImage?e.coverImage.startsWith("/")?e.coverImage:"/"+e.coverImage:"/assets/images/blog-covers/default.jpg");document.getElementById("blog-cover").src=a,document.getElementById("blog-cover").alt=e.title||"博客封面",marked.setOptions({highlight:(e,t)=>(t&&hljs.getLanguage(t)?hljs.highlight(e,{language:t}):hljs.highlight(e,{language:"plaintext"})).value,breaks:!0,gfm:!0,langPrefix:"language-",pedantic:!1}),document.getElementById("blog-content").innerHTML=marked.parse(t),hljs.highlightAll();let o=document.getElementById("blog-tags");o.innerHTML="",e.tags&&0<e.tags.length?e.tags.forEach(e=>{var t=document.createElement("a");t.href="/blog.html?tag="+encodeURIComponent(e),t.className="px-2 py-1 bg-gray-200 text-gray-700 text-xs rounded hover:bg-gray-300 transition-colors",t.textContent=e,o.appendChild(t)}):o.innerHTML='<span class="text-gray-400 text-xs">无标签</span>'}function renderRelatedBlogs(){let n=document.getElementById("related-blogs");var e;n.innerHTML="",state.currentBlog&&(0===(e=state.allBlogs.filter(e=>e.category===state.currentBlog.category&&e.id!==state.currentBlog.id).sort((e,t)=>new Date(t.publishDate)-new Date(e.publishDate)).slice(0,3)).length?n.innerHTML=`
      <p class="text-gray-500 text-sm py-3">暂无相关文章</p>
    `:e.forEach(e=>{var t=`/public/blog/posts/${e.slug}.html`,a=document.createElement("a"),t=(a.href=t,a.className="related-blog-item flex flex-col md:flex-row items-start md:items-center gap-4 p-3 rounded-lg hover:shadow transition-colors",e.coverImage?e.coverImage.startsWith("/")?e.coverImage:"/"+e.coverImage:"/assets/images/blog-covers/default.jpg");a.innerHTML=`
      <!-- 封面图容器：固定宽高，避免拉伸 -->
      <div class="related-blog-img-wrap w-30 h-14 md:w-38 md:h-20 flex-shrink-0">
        <img 
          src="${t}" 
          alt="${e.title}" 
          class="w-full h-full object-cover rounded-lg"
          onerror="this.src='/assets/images/blog-covers/default.jpg'"
        >
      </div>
      <!-- 文字内容容器：占满剩余空间 -->
      <div class="related-blog-text flex-1 min-w-0">
        <!-- 标题：强制1行，超出省略 -->
        <h4 class="text-base md:font-semibold text-gray-800 line-clamp-1">
          ${e.title}
        </h4>
        <!-- 日期 + 分类：辅助信息 -->
        <div class="flex items-center gap-2 mt-2 text-sm text-gray-600">
          <span class="flex items-center gap-1">
            <i class="fa fa-tag text-primary"></i>
            ${e.category||"未分类"}
          </span>
        </div>
      </div>
    `,n.appendChild(a)}))}function renderPopularTags(){let n=document.getElementById("popular-tags");if(n.innerHTML="",0!==state.allBlogs.length){let t={};state.allBlogs.forEach(e=>{e.tags&&e.tags.forEach(e=>{t[e]=(t[e]||0)+1})}),Object.entries(t).sort((e,t)=>t[1]-e[1]).slice(0,10).forEach(([e,t])=>{var a=document.createElement("a"),t=(a.href="/blog.html?tag="+encodeURIComponent(e),5<t?"text-sm px-3 py-1.5":2<t?"text-xs px-3 py-1":"text-xs px-2 py-1");a.className=t+" bg-gray-200 text-gray-700 rounded hover:bg-primary hover:text-white transition-colors",a.textContent=e,n.appendChild(a)})}}function renderPrevNextBlogs(){var e,t,a,n,r;!state.currentBlog||state.allBlogs.length<=1||(t=(e=[...state.allBlogs].sort((e,t)=>new Date(t.publishDate)-new Date(e.publishDate))).findIndex(e=>e.id===state.currentBlog.id||e.slug===state.currentBlog.slug),r=document.getElementById("prev-blog"),t<e.length-1?(a=(n=e[t+1]).slug?`./${n.slug}.html`:"../blog-detail.html?id="+n.id,r.innerHTML=`
          <p class="text-gray-500 text-sm mb-1">上一篇</p>
          <a href="${a}" class="text-sm hover:text-primary transition-colors line-clamp-1">
            <i class="fa fa-angle-left mr-1"></i>${n.title}
          </a>
        `):r.innerHTML='<p class="text-gray-400 text-sm">没有更多文章</p>',a=document.getElementById("next-blog"),0<t?(r=(n=e[t-1]).slug?`./${n.slug}.html`:"../blog-detail.html?id="+n.id,a.innerHTML=`
          <p class="text-gray-500 text-sm mb-1">下一篇</p>
          <a href="${r}" class="text-sm hover:text-primary transition-colors line-clamp-1">
            ${n.title}<i class="fa fa-angle-right ml-1"></i>
          </a>
        `):a.innerHTML='<p class="text-gray-400 text-sm">没有更多文章</p>')}function formatDate(e){return new Date(e).toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric"})}function calculateReadTime(e){e=e.replace(/\s+/g,"").length;return Math.ceil(e/300)+" 分钟阅读"}function getCategoryName(e){return{frontend:"前端开发",backend:"后端开发",devops:"DevOps",career:"职业发展"}[e]||"未分类"}function showError(e){loaderContainer.classList.add("hidden"),errorState.classList.remove("hidden"),errorState.querySelector("p").textContent=e}function copyCurrentLink(){var e=window.location.href;navigator.clipboard.writeText(e).then(()=>{copySuccess.classList.remove("hidden"),setTimeout(()=>{copySuccess.classList.add("hidden")},2e3)}).catch(e=>{console.error("复制链接失败：",e),alert("复制失败，请手动复制链接")})}document.addEventListener("DOMContentLoaded",function(){loadBlogContent(),retryBtn.addEventListener("click",loadBlogContent),copyLinkBtn.addEventListener("click",function(e){e.preventDefault(),copyCurrentLink()}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var e=document.getElementById("mobile-menu"),t=document.getElementById("menu-toggle"),t=(e&&t&&!e.classList.contains("hidden")&&(e.classList.add("hidden"),e=t.querySelector("i"))&&(e.classList.remove("fa-times"),e.classList.add("fa-bars")),this.getAttribute("href")),e=document.querySelector(t);e&&window.scrollTo({top:e.offsetTop-80,behavior:"smooth"})})})})</script><script src="/assets/js/main.js"></script></body></html>