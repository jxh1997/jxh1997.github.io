<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>养殖管理系统 - 财务管控中心</title>
    <script src="./assets/3.4.17.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#2E7D32',      // 主色-绿色（养殖行业属性）
                        secondary: '#1976D2',    // 辅助色-蓝色
                        success: '#2E7D32',      // 成功色
                        warning: '#F57F17',      // 警告色-橙色
                        danger: '#D32F2F',       // 危险色-红色
                        info: '#0284C7',         // 信息色-天蓝色
                        surface: '#f8fafc',      // 表面色
                        income: '#16A34A',       // 收入色
                        expense: '#DC2626',      // 支出色
                    },
                    fontFamily: {
                        sans: ['Inter', 'Noto Sans SC', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    
    <style>
        /* 基础布局样式 */
        body { 
            background-color: #f1f5f9; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            min-h-screen; 
            font-family: 'Noto Sans SC', sans-serif; 
        }
        
        .iphone-canvas {
            width: 375px;
            height: 812px;
            background: #ffffff;
            position: relative;
            overflow: hidden;
            border-radius: 40px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.2);
            border: 8px solid #1e293b;
        }
        
        /* 通用样式 */
        .hide-scroll::-webkit-scrollbar { display: none; }
        .glass-header { backdrop-filter: blur(10px); background: rgba(255,255,255,0.9); }
        .nav-item.active { color: #2E7D32; }
        .card-shadow { box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06); }
        
        /* 标签切换样式 */
        .tab-item {
            position: relative;
            transition: all 0.2s ease;
        }
        
        .tab-item.active {
            color: #2E7D32;
            font-weight: 600;
        }
        
        .tab-item.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 24px;
            height: 2px;
            background-color: #2E7D32;
            border-radius: 1px;
        }
        
        /* 数据卡片样式 */
        .stat-card {
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        
        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        
        /* 图表样式 */
        .chart-bar {
            border-radius: 4px 4px 0 0;
            transition: height 1s ease-out;
        }
        
        /* 提示框样式 */
        .loading-toast {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 1rem 2rem;
            border-radius: 8px;
            z-index: 9999;
            display: none;
        }
        
        .success-toast {
            position: fixed;
            bottom: 20%;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(46, 125, 50, 0.9);
            color: white;
            padding: 0.8rem 1.5rem;
            border-radius: 8px;
            z-index: 9999;
            display: none;
            animation: fadeInOut 2s ease-in-out;
        }
        
        @keyframes fadeInOut {
            0% { opacity: 0; bottom: 15%; }
            20% { opacity: 1; bottom: 20%; }
            80% { opacity: 1; bottom: 20%; }
            100% { opacity: 0; bottom: 15%; }
        }
        
        /* 模态框样式 */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            display: none;
        }
        
        .modal-content {
            background: white;
            border-radius: 20px;
            width: 90%;
            max-width: 340px;
            max-height: 80vh;
            overflow-y: auto;
            padding: 1.5rem;
        }
        
        /* 底部导航栏 */
        .app-nav {
            position: absolute;
            bottom: 0;
            width: 100%;
            background: white/95;
            backdrop-filter: blur(10px);
            border-top: 1px solid #e2e8f0;
            padding: 1rem 1.5rem 2rem;
            display: flex;
            justify-content: space-between;
            border-radius: 32px 32px 0 0;
        }
    </style>
</head>
<body>
    <div class="iphone-canvas flex flex-col">
        <!-- 顶部导航栏 -->
		<div class="px-6 py-4 border-b border-slate-100">
			<h1 class="text-lg font-bold text-slate-800">财务管控中心</h1>
		</div>

        <!-- 财务概览数据卡片 -->
        <section class="px-6 py-4">
            <div class="grid grid-cols-2 gap-3 mb-4">
                <!-- 总收入卡片 -->
                <div class="stat-card bg-white rounded-xl p-4 card-shadow">
                    <div class="flex justify-between items-start mb-2">
                        <h3 class="text-xs text-slate-500">本月总收入</h3>
                        <i data-lucide="arrow-up-right" class="w-4 h-4 text-income"></i>
                    </div>
                    <p class="text-xl font-bold text-slate-800">¥128,500</p>
                    <p class="text-xs text-income mt-1">↑ 12.5% 较上月</p>
                </div>
                
                <!-- 总支出卡片 -->
                <div class="stat-card bg-white rounded-xl p-4 card-shadow">
                    <div class="flex justify-between items-start mb-2">
                        <h3 class="text-xs text-slate-500">本月总支出</h3>
                        <i data-lucide="arrow-up-right" class="w-4 h-4 text-expense"></i>
                    </div>
                    <p class="text-xl font-bold text-slate-800">¥89,250</p>
                    <p class="text-xs text-expense mt-1">↑ 8.3% 较上月</p>
                </div>
                
                <!-- 净利润卡片 -->
                <div class="stat-card bg-white rounded-xl p-4 card-shadow">
                    <div class="flex justify-between items-start mb-2">
                        <h3 class="text-xs text-slate-500">本月净利润</h3>
                        <i data-lucide="trending-up" class="w-4 h-4 text-primary"></i>
                    </div>
                    <p class="text-xl font-bold text-slate-800">¥39,250</p>
                    <p class="text-xs text-primary mt-1">↑ 20.1% 较上月</p>
                </div>
                
                <!-- 应收款卡片 -->
                <div class="stat-card bg-white rounded-xl p-4 card-shadow">
                    <div class="flex justify-between items-start mb-2">
                        <h3 class="text-xs text-slate-500">待收款项</h3>
                        <i data-lucide="alert-circle" class="w-4 h-4 text-warning"></i>
                    </div>
                    <p class="text-xl font-bold text-slate-800">¥26,800</p>
                    <p class="text-xs text-slate-500 mt-1">5笔待收款</p>
                </div>
            </div>
        </section>

        <!-- 功能标签切换 -->
        <section class="px-6 pb-2">
            <div class="flex overflow-x-auto hide-scroll gap-6 pb-2">
                <div class="tab-item active whitespace-nowrap cursor-pointer" onclick="switchMainTab('dashboard')">
                    财务概览
                </div>
                <div class="tab-item text-slate-500 whitespace-nowrap cursor-pointer" onclick="switchMainTab('income')">
                    收入管理
                </div>
                <div class="tab-item text-slate-500 whitespace-nowrap cursor-pointer" onclick="switchMainTab('expense')">
                    支出管理
                </div>
                <div class="tab-item text-slate-500 whitespace-nowrap cursor-pointer" onclick="switchMainTab('reconciliation')">
                    对账管理
                </div>
            </div>
        </section>

        <!-- 主内容区域 -->
        <main class="flex-1 overflow-y-auto hide-scroll px-6 pb-24">
            <!-- 1. 财务概览 Tab -->
            <div id="dashboardTab" class="space-y-6">
                <!-- 收支趋势图表 -->
                <div class="bg-white rounded-xl p-4 card-shadow">
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="font-bold text-slate-800">收支趋势</h2>
                        <div class="relative">
                            <select class="appearance-none bg-transparent text-sm text-slate-600 focus:outline-none">
                                <option>近6个月</option>
                                <option>近3个月</option>
                                <option>近12个月</option>
                            </select>
                            <i data-lucide="chevron-down" class="w-4 h-4 absolute right-0 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"></i>
                        </div>
                    </div>
                    
                    <!-- 简易柱状图 -->
                    <div class="h-48 flex items-end justify-between px-2">
                        <!-- 8月 -->
                        <div class="flex flex-col items-center w-8">
                            <div class="chart-bar bg-income h-16 w-full mb-1"></div>
                            <div class="chart-bar bg-expense h-10 w-full"></div>
                            <span class="text-xs mt-1">8月</span>
                        </div>
                        <!-- 9月 -->
                        <div class="flex flex-col items-center w-8">
                            <div class="chart-bar bg-income h-24 w-full mb-1"></div>
                            <div class="chart-bar bg-expense h-16 w-full"></div>
                            <span class="text-xs mt-1">9月</span>
                        </div>
                        <!-- 10月 -->
                        <div class="flex flex-col items-center w-8">
                            <div class="chart-bar bg-income h-20 w-full mb-1"></div>
                            <div class="chart-bar bg-expense h-14 w-full"></div>
                            <span class="text-xs mt-1">10月</span>
                        </div>
                        <!-- 11月 -->
                        <div class="flex flex-col items-center w-8">
                            <div class="chart-bar bg-income h-28 w-full mb-1"></div>
                            <div class="chart-bar bg-expense h-20 w-full"></div>
                            <span class="text-xs mt-1">11月</span>
                        </div>
                        <!-- 12月 -->
                        <div class="flex flex-col items-center w-8">
                            <div class="chart-bar bg-income h-32 w-full mb-1"></div>
                            <div class="chart-bar bg-expense h-24 w-full"></div>
                            <span class="text-xs mt-1">12月</span>
                        </div>
                        <!-- 1月 -->
                        <div class="flex flex-col items-center w-8">
                            <div class="chart-bar bg-income h-36 w-full mb-1"></div>
                            <div class="chart-bar bg-expense h-28 w-full"></div>
                            <span class="text-xs mt-1">1月</span>
                        </div>
                    </div>
                    
                    <!-- 图例 -->
                    <div class="flex justify-center gap-6 mt-2">
                        <div class="flex items-center gap-1">
                            <div class="w-3 h-3 bg-income rounded"></div>
                            <span class="text-xs text-slate-500">收入</span>
                        </div>
                        <div class="flex items-center gap-1">
                            <div class="w-3 h-3 bg-expense rounded"></div>
                            <span class="text-xs text-slate-500">支出</span>
                        </div>
                    </div>
                </div>
                
                <!-- 收支分类分析 -->
                <div class="bg-white rounded-xl p-4 card-shadow">
                    <h2 class="font-bold text-slate-800 mb-4">收支分类占比</h2>
                    <div class="space-y-4">
                        <!-- 收入分类 -->
                        <div>
                            <div class="flex justify-between mb-1">
                                <span class="text-sm text-slate-600">销售收入</span>
                                <span class="text-sm font-medium">78%</span>
                            </div>
                            <div class="w-full h-2 bg-slate-100 rounded-full overflow-hidden">
                                <div class="h-full bg-income rounded-full" style="width: 78%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between mb-1">
                                <span class="text-sm text-slate-600">政府补贴</span>
                                <span class="text-sm font-medium">15%</span>
                            </div>
                            <div class="w-full h-2 bg-slate-100 rounded-full overflow-hidden">
                                <div class="h-full bg-income/80 rounded-full" style="width: 15%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between mb-1">
                                <span class="text-sm text-slate-600">其他收入</span>
                                <span class="text-sm font-medium">7%</span>
                            </div>
                            <div class="w-full h-2 bg-slate-100 rounded-full overflow-hidden">
                                <div class="h-full bg-income/60 rounded-full" style="width: 7%"></div>
                            </div>
                        </div>
                        
                        <div class="h-px bg-slate-100 my-3"></div>
                        
                        <!-- 支出分类 -->
                        <div>
                            <div class="flex justify-between mb-1">
                                <span class="text-sm text-slate-600">饲料成本</span>
                                <span class="text-sm font-medium">45%</span>
                            </div>
                            <div class="w-full h-2 bg-slate-100 rounded-full overflow-hidden">
                                <div class="h-full bg-expense rounded-full" style="width: 45%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between mb-1">
                                <span class="text-sm text-slate-600">人工成本</span>
                                <span class="text-sm font-medium">25%</span>
                            </div>
                            <div class="w-full h-2 bg-slate-100 rounded-full overflow-hidden">
                                <div class="h-full bg-expense/80 rounded-full" style="width: 25%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between mb-1">
                                <span class="text-sm text-slate-600">药品疫苗</span>
                                <span class="text-sm font-medium">15%</span>
                            </div>
                            <div class="w-full h-2 bg-slate-100 rounded-full overflow-hidden">
                                <div class="h-full bg-expense/70 rounded-full" style="width: 15%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between mb-1">
                                <span class="text-sm text-slate-600">其他支出</span>
                                <span class="text-sm font-medium">15%</span>
                            </div>
                            <div class="w-full h-2 bg-slate-100 rounded-full overflow-hidden">
                                <div class="h-full bg-expense/60 rounded-full" style="width: 15%"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 近期交易记录 -->
                <div class="bg-white rounded-xl p-4 card-shadow">
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="font-bold text-slate-800">近期交易</h2>
                        <button class="text-xs text-primary">查看全部</button>
                    </div>
                    
                    <div class="space-y-3 max-h-64 overflow-y-auto hide-scroll">
                        <!-- 收入记录 -->
                        <div class="flex justify-between items-center p-2 hover:bg-slate-50 rounded-lg transition-colors">
                            <div class="flex items-center gap-3">
                                <div class="w-8 h-8 rounded-full bg-income/10 flex items-center justify-center">
                                    <i data-lucide="arrow-down" class="w-4 h-4 text-income"></i>
                                </div>
                                <div>
                                    <h3 class="text-sm font-medium">鸡蛋销售收入</h3>
                                    <p class="text-xs text-slate-500">2026-02-27 14:30</p>
                                </div>
                            </div>
                            <span class="text-sm font-bold text-income">+¥12,500</span>
                        </div>
                        
                        <!-- 支出记录 -->
                        <div class="flex justify-between items-center p-2 hover:bg-slate-50 rounded-lg transition-colors">
                            <div class="flex items-center gap-3">
                                <div class="w-8 h-8 rounded-full bg-expense/10 flex items-center justify-center">
                                    <i data-lucide="arrow-up" class="w-4 h-4 text-expense"></i>
                                </div>
                                <div>
                                    <h3 class="text-sm font-medium">饲料采购支出</h3>
                                    <p class="text-xs text-slate-500">2026-02-26 09:15</p>
                                </div>
                            </div>
                            <span class="text-sm font-bold text-expense">-¥8,600</span>
                        </div>
                        
                        <!-- 收入记录 -->
                        <div class="flex justify-between items-center p-2 hover:bg-slate-50 rounded-lg transition-colors">
                            <div class="flex items-center gap-3">
                                <div class="w-8 h-8 rounded-full bg-income/10 flex items-center justify-center">
                                    <i data-lucide="arrow-down" class="w-4 h-4 text-income"></i>
                                </div>
                                <div>
                                    <h3 class="text-sm font-medium">肉鸡销售收入</h3>
                                    <p class="text-xs text-slate-500">2026-02-25 16:45</p>
                                </div>
                            </div>
                            <span class="text-sm font-bold text-income">+¥35,800</span>
                        </div>
                        
                        <!-- 支出记录 -->
                        <div class="flex justify-between items-center p-2 hover:bg-slate-50 rounded-lg transition-colors">
                            <div class="flex items-center gap-3">
                                <div class="w-8 h-8 rounded-full bg-expense/10 flex items-center justify-center">
                                    <i data-lucide="arrow-up" class="w-4 h-4 text-expense"></i>
                                </div>
                                <div>
                                    <h3 class="text-sm font-medium">员工工资发放</h3>
                                    <p class="text-xs text-slate-500">2026-02-25 08:30</p>
                                </div>
                            </div>
                            <span class="text-sm font-bold text-expense">-¥18,500</span>
                        </div>
                        
                        <!-- 支出记录 -->
                        <div class="flex justify-between items-center p-2 hover:bg-slate-50 rounded-lg transition-colors">
                            <div class="flex items-center gap-3">
                                <div class="w-8 h-8 rounded-full bg-expense/10 flex items-center justify-center">
                                    <i data-lucide="arrow-up" class="w-4 h-4 text-expense"></i>
                                </div>
                                <div>
                                    <h3 class="text-sm font-medium">疫苗采购支出</h3>
                                    <p class="text-xs text-slate-500">2026-02-24 11:20</p>
                                </div>
                            </div>
                            <span class="text-sm font-bold text-expense">-¥4,200</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 2. 收入管理 Tab -->
            <div id="incomeTab" class="space-y-6 hidden">
                <div class="bg-white rounded-xl p-4 card-shadow">
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="font-bold text-slate-800">新增收入</h2>
                        <button class="bg-primary text-white text-xs px-3 py-1.5 rounded-lg hover:bg-primary/90 transition-colors" onclick="openAddIncomeModal()">
                            <i data-lucide="plus" class="w-4 h-4 mr-1 inline"></i>添加收入
                        </button>
                    </div>
                    
                    <!-- 收入筛选 -->
                    <div class="flex gap-2 mb-4">
                        <input type="text" placeholder="搜索收入类型..." class="flex-1 px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary/20">
                        <button class="px-3 py-2 bg-slate-100 text-slate-600 rounded-lg text-sm">
                            <i data-lucide="filter" class="w-4 h-4"></i>
                        </button>
                    </div>
                    
                    <!-- 收入列表 -->
                    <div class="space-y-3 max-h-[500px] overflow-y-auto hide-scroll">
                        <div class="flex justify-between items-center p-3 bg-slate-50 rounded-lg text-xs font-medium">
                            <div class="w-1/4">日期</div>
                            <div class="w-2/4">收入类型</div>
                            <div class="w-1/4 text-right">金额</div>
                        </div>
                        
                        <div class="flex justify-between items-center p-3 hover:bg-slate-50 rounded-lg transition-colors">
                            <div class="w-1/4 text-sm">2026-02-27</div>
                            <div class="w-2/4 text-sm font-medium">鸡蛋销售收入</div>
                            <div class="w-1/4 text-right text-sm font-bold text-income">¥12,500</div>
                        </div>
                        
                        <div class="flex justify-between items-center p-3 hover:bg-slate-50 rounded-lg transition-colors">
                            <div class="w-1/4 text-sm">2026-02-25</div>
                            <div class="w-2/4 text-sm font-medium">肉鸡销售收入</div>
                            <div class="w-1/4 text-right text-sm font-bold text-income">¥35,800</div>
                        </div>
                        
                        <div class="flex justify-between items-center p-3 hover:bg-slate-50 rounded-lg transition-colors">
                            <div class="w-1/4 text-sm">2026-02-22</div>
                            <div class="w-2/4 text-sm font-medium">政府养殖补贴</div>
                            <div class="w-1/4 text-right text-sm font-bold text-income">¥20,000</div>
                        </div>
                        
                        <div class="flex justify-between items-center p-3 hover:bg-slate-50 rounded-lg transition-colors">
                            <div class="w-1/4 text-sm">2026-02-20</div>
                            <div class="w-2/4 text-sm font-medium">淘汰鸡销售收入</div>
                            <div class="w-1/4 text-right text-sm font-bold text-income">¥8,600</div>
                        </div>
                        
                        <div class="flex justify-between items-center p-3 hover:bg-slate-50 rounded-lg transition-colors">
                            <div class="w-1/4 text-sm">2026-02-18</div>
                            <div class="w-2/4 text-sm font-medium">鸡蛋销售收入</div>
                            <div class="w-1/4 text-right text-sm font-bold text-income">¥15,200</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 3. 支出管理 Tab -->
            <div id="expenseTab" class="space-y-6 hidden">
                <div class="bg-white rounded-xl p-4 card-shadow">
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="font-bold text-slate-800">新增支出</h2>
                        <button class="bg-primary text-white text-xs px-3 py-1.5 rounded-lg hover:bg-primary/90 transition-colors" onclick="openAddExpenseModal()">
                            <i data-lucide="plus" class="w-4 h-4 mr-1 inline"></i>添加支出
                        </button>
                    </div>
                    
                    <!-- 支出筛选 -->
                    <div class="flex gap-2 mb-4">
                        <input type="text" placeholder="搜索支出类型..." class="flex-1 px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary/20">
                        <button class="px-3 py-2 bg-slate-100 text-slate-600 rounded-lg text-sm">
                            <i data-lucide="filter" class="w-4 h-4"></i>
                        </button>
                    </div>
                    
                    <!-- 支出列表 -->
                    <div class="space-y-3 max-h-[500px] overflow-y-auto hide-scroll">
                        <div class="flex justify-between items-center p-3 bg-slate-50 rounded-lg text-xs font-medium">
                            <div class="w-1/4">日期</div>
                            <div class="w-2/4">支出类型</div>
                            <div class="w-1/4 text-right">金额</div>
                        </div>
                        
                        <div class="flex justify-between items-center p-3 hover:bg-slate-50 rounded-lg transition-colors">
                            <div class="w-1/4 text-sm">2026-02-26</div>
                            <div class="w-2/4 text-sm font-medium">饲料采购支出</div>
                            <div class="w-1/4 text-right text-sm font-bold text-expense">¥8,600</div>
                        </div>
                        
                        <div class="flex justify-between items-center p-3 hover:bg-slate-50 rounded-lg transition-colors">
                            <div class="w-1/4 text-sm">2026-02-25</div>
                            <div class="w-2/4 text-sm font-medium">员工工资发放</div>
                            <div class="w-1/4 text-right text-sm font-bold text-expense">¥18,500</div>
                        </div>
                        
                        <div class="flex justify-between items-center p-3 hover:bg-slate-50 rounded-lg transition-colors">
                            <div class="w-1/4 text-sm">2026-02-24</div>
                            <div class="w-2/4 text-sm font-medium">疫苗采购支出</div>
                            <div class="w-1/4 text-right text-sm font-bold text-expense">¥4,200</div>
                        </div>
                        
                        <div class="flex justify-between items-center p-3 hover:bg-slate-50 rounded-lg transition-colors">
                            <div class="w-1/4 text-sm">2026-02-22</div>
                            <div class="w-2/4 text-sm font-medium">水电费支出</div>
                            <div class="w-1/4 text-right text-sm font-bold text-expense">¥1,800</div>
                        </div>
                        
                        <div class="flex justify-between items-center p-3 hover:bg-slate-50 rounded-lg transition-colors">
                            <div class="w-1/4 text-sm">2026-02-20</div>
                            <div class="w-2/4 text-sm font-medium">兽药采购支出</div>
                            <div class="w-1/4 text-right text-sm font-bold text-expense">¥3,200</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 4. 对账管理 Tab -->
            <div id="reconciliationTab" class="space-y-6 hidden">
                <div class="bg-white rounded-xl p-4 card-shadow">
                    <h2 class="font-bold text-slate-800 mb-4">应收款管理</h2>
                    
                    <div class="space-y-4">
                        <!-- 待收款项 -->
                        <div class="p-3 border border-warning/20 bg-warning/5 rounded-lg">
                            <div class="flex justify-between items-center mb-2">
                                <h3 class="font-medium">待收款总额</h3>
                                <span class="font-bold text-warning">¥26,800</span>
                            </div>
                            <div class="grid grid-cols-2 gap-2 text-sm">
                                <div>逾期未收：¥8,500</div>
                                <div>本月应收：¥18,300</div>
                            </div>
                        </div>
                        
                        <!-- 应收款列表 -->
                        <div class="space-y-3 max-h-[400px] overflow-y-auto hide-scroll">
                            <div class="flex justify-between items-center p-3 hover:bg-slate-50 rounded-lg transition-colors border-l-4 border-warning">
                                <div>
                                    <h3 class="text-sm font-medium">张三养殖场</h3>
                                    <p class="text-xs text-slate-500">鸡蛋采购款 | 逾期3天</p>
                                </div>
                                <div class="text-right">
                                    <p class="text-sm font-bold text-warning">¥8,500</p>
                                    <button class="text-xs text-primary mt-1">确认收款</button>
                                </div>
                            </div>
                            
                            <div class="flex justify-between items-center p-3 hover:bg-slate-50 rounded-lg transition-colors border-l-4 border-info">
                                <div>
                                    <h3 class="text-sm font-medium">李四食品厂</h3>
                                    <p class="text-xs text-slate-500">肉鸡采购款 | 待收</p>
                                </div>
                                <div class="text-right">
                                    <p class="text-sm font-bold text-slate-800">¥12,300</p>
                                    <button class="text-xs text-primary mt-1">确认收款</button>
                                </div>
                            </div>
                            
                            <div class="flex justify-between items-center p-3 hover:bg-slate-50 rounded-lg transition-colors border-l-4 border-info">
                                <div>
                                    <h3 class="text-sm font-medium">王五批发商</h3>
                                    <p class="text-xs text-slate-500">鸡蛋采购款 | 待收</p>
                                </div>
                                <div class="text-right">
                                    <p class="text-sm font-bold text-slate-800">¥6,000</p>
                                    <button class="text-xs text-primary mt-1">确认收款</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white rounded-xl p-4 card-shadow">
                    <h2 class="font-bold text-slate-800 mb-4">应付款管理</h2>
                    
                    <div class="space-y-4">
                        <!-- 待付款项 -->
                        <div class="p-3 border border-info/20 bg-info/5 rounded-lg">
                            <div class="flex justify-between items-center mb-2">
                                <h3 class="font-medium">待付款总额</h3>
                                <span class="font-bold text-info">¥15,600</span>
                            </div>
                            <div class="grid grid-cols-2 gap-2 text-sm">
                                <div>逾期未付：¥0</div>
                                <div>本月应付：¥15,600</div>
                            </div>
                        </div>
                        
                        <!-- 应付款列表 -->
                        <div class="space-y-3 max-h-[300px] overflow-y-auto hide-scroll">
                            <div class="flex justify-between items-center p-3 hover:bg-slate-50 rounded-lg transition-colors border-l-4 border-info">
                                <div>
                                    <h3 class="text-sm font-medium">正大饲料厂</h3>
                                    <p class="text-xs text-slate-500">饲料采购款 | 待付</p>
                                </div>
                                <div class="text-right">
                                    <p class="text-sm font-bold text-slate-800">¥9,800</p>
                                    <button class="text-xs text-primary mt-1">确认付款</button>
                                </div>
                            </div>
                            
                            <div class="flex justify-between items-center p-3 hover:bg-slate-50 rounded-lg transition-colors border-l-4 border-info">
                                <div>
                                    <h3 class="text-sm font-medium">康华兽药</h3>
                                    <p class="text-xs text-slate-500">疫苗采购款 | 待付</p>
                                </div>
                                <div class="text-right">
                                    <p class="text-sm font-bold text-slate-800">¥5,800</p>
                                    <button class="text-xs text-primary mt-1">确认付款</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- 底部导航栏 -->
        <nav class="absolute bottom-0 w-full bg-white/90 backdrop-blur-md border-t border-slate-100 px-6 py-4 pb-8 flex justify-between items-center rounded-t-[32px]">
            <div class="nav-item text-slate-400 flex flex-col items-center gap-1 cursor-pointer" onclick="switchTab('home')">
                <i data-lucide="layout-grid" class="w-6 h-6"></i>
                <span class="text-[10px] font-bold uppercase tracking-tight">首页</span>
            </div>
            <div class="nav-item text-slate-400 flex flex-col items-center gap-1 cursor-pointer hover:text-primary transition-colors" onclick="switchTab('breeding')">
                <i data-lucide="container" class="w-6 h-6"></i>
                <span class="text-[10px] font-bold uppercase tracking-tight">养殖管理</span>
            </div>
            <div class="nav-item active flex flex-col items-center gap-1 cursor-pointer hover:text-primary transition-colors" onclick="switchTab('finance')">
                <i data-lucide="calculator" class="w-6 h-6"></i>
                <span class="text-[10px] font-bold uppercase tracking-tight">财务管控</span>
            </div>
        </nav>

        <!-- 提示框 -->
        <div id="loadingToast" class="loading-toast">
            <i data-lucide="loader-circle" class="w-6 h-6 animate-spin mr-2 inline"></i>
            处理中，请稍候
        </div>
        
        <div id="successToast" class="success-toast">
            <i data-lucide="check-circle" class="w-4 h-4 mr-2 inline"></i>
            <span id="successText">操作成功</span>
        </div>
        
        <!-- 新增收入模态框 -->
        <div id="addIncomeModal" class="modal-overlay">
            <div class="modal-content">
                <h2 class="text-lg font-bold text-slate-800 mb-4">新增收入</h2>
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm text-slate-600 mb-1">收入类型</label>
                        <select class="w-full bg-slate-50 border border-slate-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/20">
                            <option>鸡蛋销售收入</option>
                            <option>肉鸡销售收入</option>
                            <option>淘汰鸡销售收入</option>
                            <option>政府补贴</option>
                            <option>其他收入</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm text-slate-600 mb-1">金额 (¥)</label>
                        <input type="number" placeholder="请输入收入金额" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary/20">
                    </div>
                    <div>
                        <label class="block text-sm text-slate-600 mb-1">交易日期</label>
                        <input type="date" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary/20">
                    </div>
                    <div>
                        <label class="block text-sm text-slate-600 mb-1">备注</label>
                        <textarea rows="2" placeholder="选填：添加收入备注信息" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary/20"></textarea>
                    </div>
                    <div class="flex gap-3">
                        <button class="flex-1 py-2 border border-slate-200 rounded-lg text-sm text-slate-600 hover:bg-slate-50 transition-colors" onclick="closeAddIncomeModal()">
                            取消
                        </button>
                        <button class="flex-1 py-2 bg-primary text-white rounded-lg text-sm hover:bg-primary/90 transition-colors" onclick="saveIncome()">
                            保存收入
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 新增支出模态框 -->
        <div id="addExpenseModal" class="modal-overlay">
            <div class="modal-content">
                <h2 class="text-lg font-bold text-slate-800 mb-4">新增支出</h2>
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm text-slate-600 mb-1">支出类型</label>
                        <select class="w-full bg-slate-50 border border-slate-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/20">
                            <option>饲料采购支出</option>
                            <option>人工成本支出</option>
                            <option>药品疫苗支出</option>
                            <option>水电费用支出</option>
                            <option>其他支出</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm text-slate-600 mb-1">金额 (¥)</label>
                        <input type="number" placeholder="请输入支出金额" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary/20">
                    </div>
                    <div>
                        <label class="block text-sm text-slate-600 mb-1">交易日期</label>
                        <input type="date" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary/20">
                    </div>
                    <div>
                        <label class="block text-sm text-slate-600 mb-1">备注</label>
                        <textarea rows="2" placeholder="选填：添加支出备注信息" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary/20"></textarea>
                    </div>
                    <div class="flex gap-3">
                        <button class="flex-1 py-2 border border-slate-200 rounded-lg text-sm text-slate-600 hover:bg-slate-50 transition-colors" onclick="closeAddExpenseModal()">
                            取消
                        </button>
                        <button class="flex-1 py-2 bg-primary text-white rounded-lg text-sm hover:bg-primary/90 transition-colors" onclick="saveExpense()">
                            保存支出
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 初始化
        document.addEventListener('DOMContentLoaded', function() {
            lucide.createIcons();
            // 初始化图表动画
            initChartAnimation();
        });

        // 全局变量
        let currentMainTab = 'dashboard';

        // 返回首页
        function goBackToHome() {
            window.location.href = 'index.html';
        }

        // 打开设置页面
        function openSettings() {
            window.location.href = 'settings.html';
        }

        // 切换主标签页
        function switchMainTab(tabName) {
            // 隐藏所有标签内容
            document.getElementById('dashboardTab').classList.add('hidden');
            document.getElementById('incomeTab').classList.add('hidden');
            document.getElementById('expenseTab').classList.add('hidden');
            document.getElementById('reconciliationTab').classList.add('hidden');
            
            // 重置所有标签样式
            const tabItems = document.querySelectorAll('.tab-item');
            tabItems.forEach(item => {
                item.classList.remove('active');
                item.classList.add('text-slate-500');
            });
            
            // 显示选中标签内容
            document.getElementById(`${tabName}Tab`).classList.remove('hidden');
            
            // 设置选中标签样式
            event.target.classList.add('active');
            event.target.classList.remove('text-slate-500');
            
            currentMainTab = tabName;
        }

        // 初始化图表动画
        function initChartAnimation() {
            setTimeout(() => {
                const bars = document.querySelectorAll('.chart-bar');
                bars.forEach(bar => {
                    const height = bar.style.height;
                    bar.style.height = '0';
                    setTimeout(() => {
                        bar.style.height = height;
                    }, 100);
                });
            }, 300);
        }

        // 打开新增收入模态框
        function openAddIncomeModal() {
            document.getElementById('addIncomeModal').style.display = 'flex';
        }

        // 关闭新增收入模态框
        function closeAddIncomeModal() {
            document.getElementById('addIncomeModal').style.display = 'none';
        }

        // 保存收入记录
        function saveIncome() {
            showLoading();
            closeAddIncomeModal();
            
            setTimeout(() => {
                hideLoading();
                showSuccessToast('收入记录添加成功');
            }, 1000);
        }

        // 打开新增支出模态框
        function openAddExpenseModal() {
            document.getElementById('addExpenseModal').style.display = 'flex';
        }

        // 关闭新增支出模态框
        function closeAddExpenseModal() {
            document.getElementById('addExpenseModal').style.display = 'none';
        }

        // 保存支出记录
        function saveExpense() {
            showLoading();
            closeAddExpenseModal();
            
            setTimeout(() => {
                hideLoading();
                showSuccessToast('支出记录添加成功');
            }, 1000);
        }

        // 导出单个报表
        function exportSingleReport(reportName) {
            showLoading();
            
            setTimeout(() => {
                hideLoading();
                showSuccessToast(`${reportName}导出成功`);
            }, 1500);
        }

        // 批量导出报表
        function batchExportReports() {
            const checkedCount = document.querySelectorAll('input[type="checkbox"]:checked').length;
            
            if (checkedCount === 0) {
                alert('请至少选择一个报表进行导出');
                return;
            }
            
            showLoading();
            
            setTimeout(() => {
                hideLoading();
                showSuccessToast(`成功导出${checkedCount}个报表`);
                
                // 取消所有选中
                document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
                    checkbox.checked = false;
                });
            }, 2000);
        }

        // 显示加载提示
        function showLoading() {
            document.getElementById('loadingToast').style.display = 'block';
        }

        // 隐藏加载提示
        function hideLoading() {
            document.getElementById('loadingToast').style.display = 'none';
        }

        // 显示成功提示
        function showSuccessToast(message) {
            document.getElementById('successText').textContent = message;
            document.getElementById('successToast').style.display = 'block';
            
            setTimeout(() => {
                document.getElementById('successToast').style.display = 'none';
            }, 2000);
        }
		
		// 页面跳转函数
		function navigateTo(pageName) {
		    // 实际项目中替换为真实跳转：
		    window.location.href = `${pageName}.html`;
		}
		
		// 底部导航切换函数
		function switchTab(tabName) {
		    const tabMap = {
		        'home': 'index',
		        'breeding': 'breeding',
		        'finance': 'finance',
				'transaction': 'transaction',
		        'mine': 'mine',
				'sales': 'sales',
				'receivable-payable': 'receivable-payable',
				'cost-profit': 'cost-profit',
				'report': 'report',
				'settings': 'settings',
		    };
		    navigateTo(tabMap[tabName]);
		}
    </script>
</body>
</html>